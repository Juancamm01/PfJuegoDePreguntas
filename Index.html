<!DOCTYPE html>
<html lang="es-ES">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Juego de preguntas</title>
</head>
<body onload="comenzarCuentaRegresiva()">
    <h2>Responde a las preguntas lo mas rapido que puedas <br><br><span id="cuentaRegresiva"></span></h2>
    <p>1 - Cual es la capital de venezuela</p>
    <input type="text" placeholder="Responder" id="respuesta1">
    <p>2 - (6 * 6) + 15</p>
    <input type="text" placeholder="Responder" id="respuesta2">
    <p>3 - Simbolo quimico del aire</p>
    <input type="text" placeholder="Responder" id="respuesta3">
    <p>4 - Donde vives</p>
    <input type="text" placeholder="Responder" id="respuesta4">
    <p>5 - En que pais estas</p>
    <input type="text" placeholder="Responder" id="respuesta5">
    <br>
    <br>
    <br>
    <button id="boton1" onclick="finalizado()">Termine!</button>
    <br>
    <br>
    <button id="boton2" onclick="volverAIntentar()">Volver a Intentar</button>

    <audio id="audioFinal">
        <source src="gameover.mp3" type="audio/mpeg">
        no se encuentra
    </audio>

    <script>
        let tiempoTerminado;
        let intervaloDeTeimpo;

        function comenzarCuentaRegresiva(){
            tiempoTerminado = setTimeout(tiempoCumplido, 30000);
            intervaloDeTeimpo = setInterval(ticTac, 1000);

            document.getElementById("cuentaRegresiva").textContent = 30;
        }

        function ticTac(){
            const tiempo = document.getElementById("cuentaRegresiva").textContent;
            document.getElementById("cuentaRegresiva").textContent = String(tiempo -1).padStart(2, "0");
        }

        function tiempoCumplido(){
            clearInterval(intervaloDeTeimpo)
            document.getElementById("cuentaRegresiva").textContent = 0;
            document.getElementById("audioFinal").play();
            alert("GAME OVER: INTENTA DE NUEVO");
        }
        

        function finalizado(){
            clearTimeout(tiempoTerminado);
            clearInterval(intervaloDeTeimpo);


            const fecha = new Date();
            const respuesta1 = document.getElementById("respuesta1").value;
            const respuesta2 = document.getElementById("respuesta2").value;
            const respuesta3 = document.getElementById("respuesta3").value;
            const respuesta4 = document.getElementById("respuesta4").value;
            const respuesta5 = document.getElementById("respuesta5").value;

            const elementoAlerta = fecha.toLocaleDateString("es-Es") + "\n" +
                        "1. " +     respuesta1+  "\n" +
                        "2. " +     respuesta2+  "\n" +
                        "3. " +     respuesta3+  "\n" +
                        "4. " +     respuesta4+  "\n" +
                        "5. " +     respuesta5;

            alert(elementoAlerta);

        }

        function volverAIntentar(){
            location.reload();
        }


    </script>

    
</body>
</html>